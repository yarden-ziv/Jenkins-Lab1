pipeline{
    agent any
    stages{
        stage('clone movies repo'){
            steps{
                sh "git clone https://github.com/devopsPRO27/movies-api"
                echo "cloning finished"
            }
        }
        stage('build'){
            steps{
                dir(movies){
                    sh "docker build -t movies-api ."
                    sh "docker images"
                }
            }
        }
    }
    post{
        always{
            cleanWs()
        }
    }
}